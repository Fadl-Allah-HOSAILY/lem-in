<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Graph Visualization</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    svg {
      border: 1px solid #ccc;
      background: #fafafa;
    }
    line {
      stroke: #333;
      stroke-width: 2;
    }
    circle {
      fill: steelblue;
      stroke: #222;
      stroke-width: 1.5;
    }
    text {
      font-size: 12px;
      fill: black;
      text-anchor: middle;
      alignment-baseline: middle;
    }
    .start { fill: green; }
    .end { fill: red; }
  </style>
</head>
<body>
  <h2>Graph of Ant Farm (3 ants)</h2>
  <svg width="600" height="400"></svg>

<script>
  const graph = {
    "Rooms": {
      "start": { "Name": "start", "X": 1, "Y": 6 },
      "0":     { "Name": "0", "X": 4, "Y": 8 },
      "o":     { "Name": "o", "X": 6, "Y": 8 },
      "n":     { "Name": "n", "X": 6, "Y": 6 },
      "e":     { "Name": "e", "X": 8, "Y": 4 },
      "t":     { "Name": "t", "X": 1, "Y": 9 },
      "E":     { "Name": "E", "X": 5, "Y": 9 },
      "a":     { "Name": "a", "X": 8, "Y": 9 },
      "m":     { "Name": "m", "X": 8, "Y": 6 },
      "h":     { "Name": "h", "X": 4, "Y": 6 },
      "A":     { "Name": "A", "X": 5, "Y": 2 },
      "c":     { "Name": "c", "X": 8, "Y": 1 },
      "k":     { "Name": "k", "X": 11, "Y": 2 },
      "end":   { "Name": "end", "X": 11, "Y": 6 }
    },
    "Links": {
      "start": ["t","h","0"],
      "t": ["E"],
      "n": ["e","m"],
      "a": ["m"],
      "A": ["c"],
      "0": ["o"],
      "E": ["a"],
      "k": ["end"],
      "o": ["n"],
      "m": ["end"],
      "h": ["A","n"],
      "e": ["end"],
      "c": ["k"]
    },
    "Start": "start",
    "End": "end"
  };

  const width = 600, height = 400, scale = 20;
  const svg = d3.select("svg");

  // Draw links
  Object.entries(graph.Links).forEach(([from, tos]) => {
    tos.forEach(to => {
      svg.append("line")
        .attr("x1", graph.Rooms[from].X * scale)
        .attr("y1", graph.Rooms[from].Y * scale)
        .attr("x2", graph.Rooms[to].X * scale)
        .attr("y2", graph.Rooms[to].Y * scale);
    });
  });

  // Draw rooms
  Object.values(graph.Rooms).forEach(room => {
    svg.append("circle")
      .attr("cx", room.X * scale)
      .attr("cy", room.Y * scale)
      .attr("r", 12)
      .attr("class", 
        room.Name === graph.Start ? "start" : 
        room.Name === graph.End ? "end" : "");

    svg.append("text")
      .attr("x", room.X * scale)
      .attr("y", room.Y * scale)
      .text(room.Name);
  });
</script>

</body>
</html>
